{% extends 'NimThemeBundle::layout.html.twig' %}

{% import 'NimThemeBundle:Macro:button.html.twig' as buttons %}
{% from 'NimThemeBundle:Macro:pagination.html.twig' import pagination %}
{% from 'NimWebBundle:Agency:macro.html.twig' import list %}


{% block title %}
    {{ 'layout.page.title'|trans({'%page_title%' : 'agency.title.index'|trans}) }}
{% endblock %}


{% block page_name %}
    <i class="icon-rocket"></i>
    {{ 'agency.title.index'|trans }}
{% endblock page_name %}


{% block page_action %}
    {{ buttons.new(path('nim_agency_create'), 'agency.button.new') }}
{% endblock page_action %}


{% block content %}
    {% render(controller(
            'nim.controller.form:filterAction',
            {'type': 'nim_filter_agency', 'path': 'nim_agency_index', 'request': app.request})
        )
    %}
    {{ pagination(agencies) }}
    {{ list(agencies) }}
    {{ pagination(agencies) }}
{% endblock %}
